@model PagedList.IPagedList<AfricanShopLviv.BLL.DTO.ProductDto>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
<link href="~/Content/prodList.css" rel="stylesheet" type="text/css" />
@*<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css" rel="stylesheet">*@
@{
    ViewBag.Title = "Main Page";
    Layout = "~/Views/Shared/MainLayout.cshtml";
    <link href="~/Content/prodList.css" rel="stylesheet" />
}


<!-- BANNER: -->
<div style="margin-top:5px;margin-top:10px" class="row">
    <div class="col" style="background-color:black">
        <!-- Slideshow container -->
        <div class="slideshow-container" style="width:100%">

            <!-- Full-width images with number and caption text -->
            @*<div>
                    <img src="" alt="" style="width:100%; height:100%"/>
                </div>*@
            <div class="mySlides fade">
                <img src="~/Images/Banner/1.jpeg" style="width:100%; height:100%" />
            </div>
            <div class="mySlides fade">
                <img src="~/Images/Banner/2.jpeg" style="width:100%; height:100%" />
            </div>
            <div class="mySlides fade">
                <img src="~/Images/Banner/3.jpeg" style="width:100%; height:100%" />
            </div>
            <div class="mySlides fade">
                <img src="~/Images/Banner/4.jpeg" style="width:100%; height:100%" />
            </div>
            <div class="mySlides fade">
                <img src="~/Images/Banner/5.jpeg" style="width:100%; height:100%" />
            </div>
            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)"> &#10095;</a>
        </div>
        <!-- The dots/circles -->
        <!--<div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
            <span class="dot" onclick="currentSlide(5)"></span>
        </div>-->
    </div>
</div>

@if (ViewBag.IsCart == true)
{
    Html.RenderPartial("~/Views/PartialViews/CartPart.cshtml", (List<AfricanShopLviv.BLL.DTO.CartDto>)ViewBag.Cart);
    AfricanShopLviv.PL.Controllers.HomeController.IsCart = false;
}

<!-- Modals form js 'Write Us' & 'Call Back' -->
<div class="w3-container">
    <div style="width:220px;margin:auto">
        <button style="font-family: 'Palatino Linotype'; margin-top:3px" onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-black">Write Us</button>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button style="font-family: 'Palatino Linotype'; margin-top: 3px" onclick="document.getElementById('id02').style.display='block'" class="w3-button w3-black">Call Back</button>
    </div>
    <div style="opacity:0.97" id="id01" class="w3-modal">
        <div class="w3-modal-content w3-animate-zoom w3-card-4">
            <header class="w3-container w3-teal">
                <span onclick="document.getElementById('id01').style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <h2 style="text-align:center;font-family:'Palatino Linotype'">Write Us</h2>
            </header>
            <div class="w3-container">
                <form action="~/Home/SendMessage" method="post" style="padding:50px">
                    <input name="userName" style="margin-bottom:5px" type="text" class="form-control" placeholder="Your Name:" required />
                    <input name="email" style="margin-bottom:5px" type="email" class="form-control" placeholder="Your Email:" required />
                    <input name="phone" style="margin-bottom:5px" type="tel" class="form-control" placeholder="Your Phone:" required />
                    <div class="form-outline">
                        <textarea name="comment" placeholder="Comments" class="form-control" rows="4" required></textarea>
                    </div>
                    <br />
                    <div style="width:90px;margin:auto">
                        <input class="btn btn-primary" type="submit" value="Send" />
                    </div>
                </form>
            </div>
            <footer style="text-align:center" class="w3-container w3-teal">
                <h5 style="font-family:'Palatino Linotype';font-weight:bold">MAOTS ent Best Buy Online</h5>
            </footer>
        </div>
    </div>
    <script>
        var phone = document.getElementById("phone");
        var userName = document.getElementById("userName");
        var email = document.getElementById("email");
        var comment = document.getElementById("comment");
        var mailInfo = { mail: email, name: userName, phn: phone, commt: comment };
        $.ajax({
            contentType: 'application/json; charset=utf-8',
            dataType: 'json',
            type: 'POST',
            url: '/Home/SendMessage',
            data: mailInfo,
            success: function (result) {
                alert(result);
            },
            error: function (err) {
                alert(err.statusText);
            });
});
    </script>
    <div style="opacity:0.97" id="id02" class="w3-modal">
        <div class="w3-modal-content w3-animate-opacity w3-card-4">
            <header class="w3-container w3-teal">
                <span onclick="document.getElementById('id02').style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <h2 style="text-align:center;font-family:'Palatino Linotype'">Call Back</h2>
            </header>
            <div class="w3-container">
                <form action="~/Home/SendMessage" method="post" style="padding:50px">
                    <input name="userName" style="margin-bottom:5px" type="text" class="form-control" placeholder="Your Name:" required />
                    <input name="email" style="margin-bottom:5px" type="email" class="form-control" placeholder="Your Email:" required />
                    <input name="phone" style="margin-bottom:5px" type="tel" class="form-control" placeholder="Your Phone:" required />
                    <div class="form-outline">
                        <textarea name="comment" placeholder="Comments" class="form-control" rows="4" required></textarea>
                    </div>
                    <br />
                    <div style="width:90px;margin:auto">
                        <input class="btn btn-primary" type="submit" value="Send" />
                    </div>
                </form>
            </div>
            <footer style="text-align:center" class="w3-container w3-teal">
                <h5 style="font-family:'Palatino Linotype';font-weight:bold">MAOTS ent Best Buy Online</h5>
            </footer>
        </div>
    </div>
</div>

<!-- List of Categories: -->
@using (Html.BeginForm("MainPage", "Home", FormMethod.Post))
{
    <div class="row" style="">
        <div class="col-sm-3" style="height: auto; background-image: linear-gradient(lightyellow,navajowhite, transparent, yellow) ">
            <a href="#">
                <img src="~/Logo/addrTop.svg" style="width:100%" />
            </a>
            <p style="font-weight:bold;font-family:'Palatino Linotype';font-size:xx-large">
                <span style="opacity:0.5">38 (063)</span> 4392871
            </p>
            <div class="d-flex -btn-border" style="width: 100%" id="wrapper">
                <div style="width: 100%" class="list-group list-group-item-heading">
                    @Html.ActionLink("All Categories", "", "", null, new { id = "btnCateg", style = "background-color:black;color:red", @class = "btn btn-default" })
                    @foreach (var item in ViewBag.Categories)
                    {
                        <button id="btnCateg" class="btn btn-default" name="btn-@item.TagName">
                            @item.Name
                        </button>
                    }
                </div>
            </div>

            <div class="" style="">
                <hr />
                <a href="https://www.facebook.com/African-Shop-LVIV-UA-641011469316068/timeline/">
                    <img src="@Url.Content("~/Logo/facebook.jpg")" style="width:100%" />
                </a>
                <hr />
            </div>
            <!-- Contacts: -->
            <header>
                <h3><a style="font-weight:bold;font-family:'Times New Roman', Times, serif;font-size:larger;color:white" href="#">Contacts</a></h3>
            </header>
            <div style="width:100%" class="col-sm-3">
                <hr />
                <ul class="list-group">
                    <li class="list-group-item" id="l1">
                        <i class="bi bi-geo-alt" style="border-radius:53px;padding:7px;background-color:azure"></i>
                        <span class="">
                            <span class="">Ukraine, Lviv Address : Lychakivska, 31 str. /  Ternopil Address: Stadnykova 2a</span>
                        </span>
                    </li>
                    <li class="list-group-item" id="l2">
                        <i style="border-radius:53px;padding:7px;background-color:azure" class="bi bi-telephone-inbound"></i>
                        <a class="" href="tel:380634392871">
                            38 (063) 4392871
                        </a>
                    </li>
                    <li class="list-group-item" id="l3">
                        <i style="border-radius:53px;padding:7px;background-color:azure" class="bi bi-alarm"></i>
                        <span>Lviv shop Mon - Fri 10am - 6 pm, Ternopil Shop 10:30 am - 8 pm</span>
                        <span>Saturday 11am-5pm</span>
                        <span>Sunday - day off</span>
                    </li>
                    <li class="list-group-item" id="l4">
                        <i style="border-radius:53px;padding:7px;background-color:azure" class="bi bi-envelope-paper"></i>
                        <a href="mailto:africanshoplviv@gmail.com" target="_blank"><small>africanshoplviv@gmail.com</small></a>
                    </li>
                    <li class="list-group-item" id="l5">
                        <i style="border-radius:53px;padding:7px;background-color:azure" class="bi bi-whatsapp">
                        </i>
                        <a href="https://wa.me/063439287" target="_blank">+38 063 4392871</a>
                    </li>
                </ul>
                <hr />
            </div>

            <!-- Social networking: -->
            <header>
                <h3>
                    <a style="font-weight: bold; font-family: 'Times New Roman', Times, serif; font-size: larger;color:black" href="#">
                        Social networking
                    </a>
                </h3>
            </header>
            <div style="border-radius:6px;width:100%" class="col-sm-3">
                <hr />
                <div style="display:inline-block;margin-left:10px">
                    <div class="w3-button w3-animate-opacity" style="display: inline-block; border-radius: 50px;margin-left:-15px">
                        <a target="_blank" class="" rel="nofollow" href="http://www.facebook.com/African-Shop-LVIV-UA-641011469316068/timeline/">
                            <img src=@Url.Content("~/Logo/SocialNtwk/facebook.png") width="40" height="40" />
                        </a>
                    </div>
                    <div class="w3-button w3-animate-opacity" style="display: inline-block; border-radius: 50px; margin-left: -15px ">
                        <a target="_blank" class="" rel="nofollow" href="https://instagram.com/p/90rOPNoOw_/">
                            <img src=@Url.Content("~/Logo/SocialNtwk/instagram.png") width="40" height="40" />
                        </a>
                    </div>

                    <div class="w3-button w3-animate-opacity" style="display: inline-block; border-radius: 50px; margin-left: -15px ">
                        <a target="_blank" class="" rel="nofollow" href="https://wa.me/0634392871">
                            <img src=@Url.Content("~/Logo/SocialNtwk/whatsapp.png") width="40" height="40" />
                        </a>
                    </div>

                    <div class="w3-button w3-animate-opacity" style="display: inline-block; border-radius: 50px; margin-left: -15px ">
                        <a target="_blank" class="" rel="nofollow" href="viber://public?id=0634392871">
                            <img src=@Url.Content("~/Logo/SocialNtwk/viber.png") width="40" height="40" />
                        </a>
                    </div>
                </div>
                <hr />
            </div>
        </div>

        <!-- RIGHTSIDE BAR: List of the Products, Videos, Contacts, Payment e.t.c -->
        <div class="col-sm-9" style="">
            @*<div class="col" style="text-align:center;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">
                    <p style="font-size:70px;font-family: 'Segoe Print';color:green"> African Shop Lviv,UA</p>
                    <p style="font-size:70px;font-family: 'Segoe Print';color:red;margin-top:-45px"> Afro Market Ternopil </p>
                    <p style="font-size: 70px; font-family: 'Segoe Print'; color: darkorange; margin-top: -45px"> Best Buy Online </p>
                    <p style="font-size: 70px; font-family: 'Segoe Print'; color: springgreen; margin-top: -45px">SHOP WITH US!</p>
                </div>*@
            @if (ViewBag.TopMenu == true)
            {
                <div class="col">
                    @Html.Partial($"~/Views/PartialViews/{ViewBag.PartialView}.cshtml")
                </div>
            }
            else if (ViewBag.CategoryPressed == true)
            {
                <div class="col" style="background-image: src(../../Logo/paper.gif);padding:9px">
                    <div class="row" style="background-image: linear-gradient(transparent, yellow, blue, transparent) ">
                        <div style="background-color:whitesmoke;padding:9px;color:mediumvioletred;font-weight:bold;margin-top:-9px">
                            <span style="font-family:'Palatino Linotype';font-size:large">CATEGORIES /<span style="color:chartreuse;font-family:'Segoe Print'"> @ViewBag.CategoryName</span> </span>
                        </div>
                        @foreach (var product in Model)
                        {<!--~/Images/Products/Fair and White Gold Rejuvenating Moisture Lotion Number 3 3 500ml.jpeg-->
                            string path = $"~/Images/Products/{product.Photo}";
                            <div class="col-md-3" style="margin-top:20px">
                                <div class="card p-3">
                                    <div class="text-center">
                                        <img src="@Url.Content(path)" width="100%" height="200" alt="Img Not Opened" />
                                    </div>
                                    <div class="product-details" style="min-height:auto">
                                        <span style="color:mediumblue;font-family:'Palatino Linotype';font-weight:bold" class="font-weight-bold d-block">@product.Price грн</span>
                                        <div style="word-break: break-all;min-height:80px">@product.Name</div>
                                        <div><small style="color:firebrick">Serial:&nbsp;@product.Code</small></div>
                                        <div class="buttons d-flex flex-row">
                                            <div class="cart"><i class="fa fa-shopping-cart"></i></div>
                                            <button name="btn-@product.Code" class="btn btn-success cart-button btn-block">
                                                <span class="dot">1</span>Add to cart
                                            </button>
                                        </div>
                                        <div class="weight">
                                            @if (product.IsStock == true)
                                            {
                                                <small style="color:green;font-weight:bold">In Stock</small>
                                            }
                                            else
                                            {
                                                <small style="color: red; font-weight: bold">Out of stock</small>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        @*Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) from @Model.PageCount*@
                        @Html.PagedListPager(Model, page => Url.Action("MainPage", new { page }))
                    </div>
                </div>
            }
        </div>
    </div>

    <!--
        <div class="row" style="background-color:beige">

        <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
        <script defer src="//lk.easynetshop.ru/frontend/v5/test.js"></script>
        <link href="//lk.easynetshop.ru/frontend/v5/test.css" rel="stylesheet">



        <!-- Кнопка КУПИТЬ с ID товара из каталога корзины
        <!--<button class="btn-ens-action btn-ens-style"
                data-rel="4a9f99dc105">
            Добавить товар по ID
        </button>

        <hr>

        <!--<button class="btn-ens-self btn-ens-style"
                data-name="Nibiru E58 WI-FI FPV"
                data-price="5220.99"
                data-desc="Радиоуправляемый дрон FPV c Wi-Fi"
                data-href="https://easynetshop.ru/demo.html"
                data-img="https://easynetshop.ru/assets/images/product_2.jpg">
            Добавить произвольный товар
        </button>
        <style>
            #enscart_image_wrapper {
                background-color: #1170bb; /*Меняем цвет кнопки */
            }

            #enscart_wrapper {
                top: auto;
                right: auto;
                left: 10px; /* Привязываем к левому краю */
                bottom: 20px; /* Привязываем к нижнему краю */
            }
        </style>
    </div>-->

}



<style>
    #l1::marker {
        content: url(../../Logo/Icons/geo-alt.svg);
    }

    #l2::marker {
        content: url(../../Logo/Icons/telephone-outbound.svg);
    }

    #l3::marker {
        content: url(../../Logo/Icons/alarm.svg);
    }

    #l4::marker {
        content: url(../../Logo/Icons/envelope-paper.svg);
    }

    #l5::marker {
        content: url(../../Logo/Icons/whatsapp.svg);
    }

    #btnCateg {
        /*   border: 2px solid darkorange;*/
        font-family: Verdana, Geneva, Tahoma, sans-serif, Times, serif;
        font-weight: bold;
        margin-top: 5px;
        color: black;
        background-color: gold;
    }

        #btnCateg:hover {
            /*         border: 2px solid gold;*/
            background-color: black;
            color: gold;
            font-size:x-large;
            font-family:'Times New Roman';
        }

        #btnCateg:active {
            border: 2px solid yellow;
            background-color: yellow;
            color: darkred;
        }

    a {
        color: firebrick;
        text-decoration: none;
        font-size: large;
    }

    #a:hover {
        color: darkred;
    }

    * {
        box-sizing: border-box
    }

    /* Slideshow container */
    .slideshow-container {
        max-width: 1400px;
        position: relative;
        margin: auto;
    }

    /* Hide the images by default */
    .mySlides {
        display: none;
    }

    /* Next & previous buttons */
    .prev, .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.2s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
    }

    /* Position the "next button" to the right */
    .next {
        right: 0;
        border-radius: 3px 0 0 3px;
    }

        /* On hover, add a black background color with a little bit see-through */
        .prev:hover, .next:hover {
            background-color: rgba(0,0,0,0.8);
        }

    /* Caption text */
    .text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
    }

    /* Number text (1/3 etc) */
    .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
    }

    /* The dots/bullets/indicators */
    .dot {
        cursor: pointer;
        height: 15px;
        width: 15px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s ease;
    }

        .active, .dot:hover {
            background-color: #717171;
        }

    /* Fading animation */
    .fade {
        animation-name: fade;
        animation-duration: 1.5s;
    }
</style>

<!-- SLIDER JS: -->
<script type="text/javascript"></script>
<!-- Custom flips: -->
<script>
    let slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) { slideIndex = 1 }
        if (n < 1) { slideIndex = slides.length }
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
        //}
</script>

<!-- Product items animations: -->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function (event) {
        const cartButtons = document.querySelectorAll('.cart-button');
        cartButtons.forEach(button => {
            button.addEventListener('click', cartClick);
        });
        function cartClick() {
            let button = this;
            button.classList.add('clicked');
        }
    });
</script>

<!-- Automatic flips: -->
<script>
    let slideIndex = 0;
    showSlides();
    function showSlides() {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) { slideIndex = 1 }
        slides[slideIndex - 1].style.display = "block";
        setTimeout(showSlides, 2000); // Change image every 2 seconds
    }
</script>
